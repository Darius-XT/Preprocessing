{"id":"cbc2bf0e-2c69-11ef-8725-c8cb9e4ad5d4","desc":"","type_name":"graph","test_coverage":{"path_coverage":{"path_coverage_method":"All"},"condition_points_coverage":{"condition_coverage_method":"MCDC","point_coverage_method":"3-points","coverage_type":"customize"}},"h_function":"none","entry_action_list":[],"exit_action_list":[],"nodes":[{"id":"275dd482-2a47-11ef-811a-1105cfa30ef0","desc":"","type_name":"start","render_config":{"color":"#e5bc5e","visible":true,"x":493.5,"y":39.99999999999993,"width":330,"height":40},"is_init_node":true,"is_finish_node":false,"input_transitions":[],"ports":{"items":[{"group":"bottom","id":"ed0ebf00-2a33-11ef-b441-9543add878bf"},{"group":"bottom","id":"92cb3410-2a47-11ef-811a-1105cfa30ef0"}],"groups":{"top":{"position":"top","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"bottom":{"position":"bottom","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#517cec"}}}}},"output_transitions":["275dd481-2a47-11ef-811a-1105cfa30ef0","90e70ac0-2a47-11ef-811a-1105cfa30ef0"]},{"id":"275dd486-2a47-11ef-811a-1105cfa30ef0","desc":"New State","type_name":"state","render_config":{"color":"#fab7cb","visible":true,"x":490,"y":230,"width":120,"height":90},"is_init_node":false,"is_finish_node":false,"input_transitions":["275dd481-2a47-11ef-811a-1105cfa30ef0"],"ports":{"items":[{"group":"top","id":"ed734d30-2a33-11ef-b441-9543add878bf"}],"groups":{"top":{"position":"top","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"bottom":{"position":"bottom","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#517cec"}}}}},"output_transitions":[],"pre_think_time":0,"post_think_time":0,"exit_action_list":[],"entry_action_list":[],"during_action_list":[],"normal_test_action_list":[{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩上限 == min(后电机转速系数(驱动电机转速)*107,驱动转矩计算())","type":"action"},{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩下限 == min(后电机转速系数(驱动电机转速)*107, 回收转矩计算())","type":"action"}],"dynamic_test_action_list":[],"ref_graph":null,"forward_propagation":false,"time_props":null},{"id":"275dd488-2a47-11ef-811a-1105cfa30ef0","desc":"New State","type_name":"state","render_config":{"color":"#fab7cb","visible":true,"x":730,"y":230,"width":120,"height":90},"is_init_node":false,"is_finish_node":false,"input_transitions":["90e70ac0-2a47-11ef-811a-1105cfa30ef0"],"ports":{"items":[{"group":"top","id":"956036d0-2a47-11ef-811a-1105cfa30ef0"}],"groups":{"top":{"position":"top","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"bottom":{"position":"bottom","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#517cec"}}}}},"output_transitions":[],"pre_think_time":0,"post_think_time":0,"exit_action_list":[],"entry_action_list":[],"during_action_list":[],"normal_test_action_list":[{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩上限 == min(后电机转速系数(驱动电机转速)*134,回收转矩计算R())","type":"action"},{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩下限 == max(后电机转速系数(驱动电机转速)*-134, 驱动转矩计算R())","type":"action"}],"dynamic_test_action_list":[],"ref_graph":null,"forward_propagation":false,"time_props":null},{"id":"275dd487-2a47-11ef-811a-1105cfa30ef0","desc":"驱动转矩计算R","type_name":"call","render_config":{"color":"#de7b51","visible":true,"x":150,"y":100,"width":120,"height":50},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"params_list":[{"label":"period","value":0},{"label":"step","value":0}],"in_list":[],"return_list":[],"script":"if fabs(后驱动电机最大驱动转矩) >365:\r\n  return -365\r\nelse:\r\n  return -fabs(后驱动电机最大驱动转矩)","enable_inverse":false,"inverse_script":"","tolerance_type":"percent","tolerance_value":0,"time_related_step":0,"time_related_duration":0},{"id":"275dd485-2a47-11ef-811a-1105cfa30ef0","desc":"驱动转矩计算","type_name":"call","render_config":{"color":"#de7b51","visible":true,"x":340,"y":110,"width":120,"height":50},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"params_list":[{"label":"period","value":0},{"label":"step","value":0}],"in_list":[],"return_list":[],"script":"if fabs(后驱动电机最大驱动转矩) >365:\r\n  return 365\r\nelse:\r\n  return fabs(后驱动电机最大驱动转矩)","enable_inverse":false,"inverse_script":"","tolerance_type":"percent","tolerance_value":0,"time_related_step":0,"time_related_duration":0},{"id":"275dd484-2a47-11ef-811a-1105cfa30ef0","desc":"回收转矩计算R","type_name":"call","render_config":{"color":"#de7b51","visible":true,"x":150,"y":200,"width":120,"height":50},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"params_list":[{"label":"period","value":0},{"label":"step","value":0}],"in_list":[],"return_list":[],"script":"if fabs(后驱动电机最大制动转矩) >365:\r\n  return 365\r\nelse:\r\n  return fabs(后驱动电机最大制动转矩)","enable_inverse":false,"inverse_script":"","tolerance_type":"percent","tolerance_value":0,"time_related_step":0,"time_related_duration":0},{"id":"275dd483-2a47-11ef-811a-1105cfa30ef0","desc":"回收转矩计算","type_name":"call","render_config":{"color":"#de7b51","visible":true,"x":340,"y":200,"width":120,"height":50},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"params_list":[{"label":"period","value":0},{"label":"step","value":0}],"in_list":[],"return_list":[],"script":"if fabs(后驱动电机最大制动转矩) >365:\r\n  return -365\r\nelse:\r\n  return -fabs(后驱动电机最大制动转矩)","enable_inverse":false,"inverse_script":"","tolerance_type":"percent","tolerance_value":0,"time_related_step":0,"time_related_duration":0},{"id":"57592dc0-2c76-11ef-bad1-f318d45b1445","desc":"","type_name":"comment","render_config":{"color":"#e5bc5e","visible":true,"x":150,"y":-39,"width":120,"height":100},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"comment":"轮端 —— 超速限制：\n       后电机轴端扭矩上/下限计算\n       258功能中使用"}],"transitions":[{"id":"275dd481-2a47-11ef-811a-1105cfa30ef0","desc":"D挡","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[{"valueName":"驱动电机转速","valueType":"assign","positive_data":"[17000,17100,17250,17500,18000]","negative_data":""}],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"策略挡位信号 == 4","action_list":[],"loop_times":1,"event_list":[],"source_node":"275dd482-2a47-11ef-811a-1105cfa30ef0","target_node":"275dd486-2a47-11ef-811a-1105cfa30ef0","source_port_name":"ed0ebf00-2a33-11ef-b441-9543add878bf","target_port_name":"ed734d30-2a33-11ef-b441-9543add878bf","vertices":[],"time_tolerance":{"type":"percent","value":5}},{"id":"90e70ac0-2a47-11ef-811a-1105cfa30ef0","desc":"D挡","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[{"valueName":"驱动电机转速","valueType":"assign","positive_data":"[17000,17100,17250,17500,18000]","negative_data":""}],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"策略挡位信号 == 3","action_list":[],"loop_times":1,"event_list":[],"source_node":"275dd482-2a47-11ef-811a-1105cfa30ef0","target_node":"275dd488-2a47-11ef-811a-1105cfa30ef0","source_port_name":"92cb3410-2a47-11ef-811a-1105cfa30ef0","target_port_name":"956036d0-2a47-11ef-811a-1105cfa30ef0","vertices":[],"time_tolerance":{"type":"percent","value":5}}],"graph_type":"request","breakpoints":[]}