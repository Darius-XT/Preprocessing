{"id":"cb1eae07-2c69-11ef-80dd-c8cb9e4ad5d4","desc":"","type_name":"graph","test_coverage":{"path_coverage":{"path_coverage_method":"All"},"condition_points_coverage":{"condition_coverage_method":"MCDC","point_coverage_method":"3-points","coverage_type":"customize"}},"h_function":"none","entry_action_list":[],"exit_action_list":[],"nodes":[{"id":"3d876369-2c55-11ef-b414-a9d76e88cb45","desc":"","type_name":"start","render_config":{"color":"#e5bc5e","visible":true,"x":500,"y":-150,"width":330,"height":40},"is_init_node":true,"is_finish_node":false,"input_transitions":[],"ports":{"items":[{"group":"bottom","id":"f13e2c50-2a3d-11ef-811a-1105cfa30ef0"}],"groups":{"top":{"position":"top","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"bottom":{"position":"bottom","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#517cec"}}}}},"output_transitions":["3d876366-2c55-11ef-b414-a9d76e88cb45"]},{"id":"3d878a76-2c55-11ef-b414-a9d76e88cb45","desc":"New State","type_name":"state","render_config":{"color":"#fab7cb","visible":true,"x":390,"y":250,"width":120,"height":90},"is_init_node":false,"is_finish_node":false,"input_transitions":["3d876367-2c55-11ef-b414-a9d76e88cb45","3d876365-2c55-11ef-b414-a9d76e88cb45"],"ports":{"items":[{"group":"bottom","id":"ed895720-2a3c-11ef-b441-9543add878bf"},{"group":"top","id":"315014a0-2a40-11ef-811a-1105cfa30ef0"},{"group":"top","id":"a3c9ae90-2a3d-11ef-811a-1105cfa30ef0"}],"groups":{"top":{"position":"top","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"bottom":{"position":"bottom","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#517cec"}}}}},"output_transitions":["3d876360-2c55-11ef-b414-a9d76e88cb45"],"pre_think_time":0,"post_think_time":0,"exit_action_list":[],"entry_action_list":[],"during_action_list":[],"normal_test_action_list":[{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩上限 == min(驱动转矩计算(),后电机外特性驱动(驱动电机转速))","type":"action"},{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩下限 == max(回收转矩计算(), -后电机外特性回收(驱动电机转速))","type":"action"}],"dynamic_test_action_list":[],"ref_graph":null,"forward_propagation":false,"time_props":null},{"id":"3d878a79-2c55-11ef-b414-a9d76e88cb45","desc":"New State","type_name":"state","render_config":{"color":"#fab7cb","visible":true,"x":730,"y":230,"width":120,"height":90},"is_init_node":false,"is_finish_node":false,"input_transitions":["3d876368-2c55-11ef-b414-a9d76e88cb45","3d876361-2c55-11ef-b414-a9d76e88cb45"],"ports":{"items":[{"group":"top","id":"f23ec8e0-2a3c-11ef-b441-9543add878bf"},{"group":"bottom","id":"934b4510-2a3d-11ef-811a-1105cfa30ef0"},{"group":"top","id":"3d19cfb0-2a40-11ef-811a-1105cfa30ef0"}],"groups":{"top":{"position":"top","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"bottom":{"position":"bottom","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#517cec"}}}}},"output_transitions":["3d876364-2c55-11ef-b414-a9d76e88cb45"],"pre_think_time":0,"post_think_time":0,"exit_action_list":[],"entry_action_list":[],"during_action_list":[],"normal_test_action_list":[{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩上限 == min(回收转矩计算R(),后电机外特性驱动(驱动电机转速))","type":"action"},{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩下限 == max(驱动转矩计算R(),-后电机外特性回收(驱动电机转速))","type":"action"}],"dynamic_test_action_list":[],"ref_graph":null,"forward_propagation":false,"time_props":null},{"id":"3d878a75-2c55-11ef-b414-a9d76e88cb45","desc":"New State","type_name":"state","render_config":{"color":"#fab7cb","visible":true,"x":440,"y":590,"width":120,"height":90},"is_init_node":false,"is_finish_node":false,"input_transitions":["3d876362-2c55-11ef-b414-a9d76e88cb45"],"ports":{"items":[{"group":"top","id":"4a20cd10-2a3d-11ef-811a-1105cfa30ef0"}],"groups":{"top":{"position":"top","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"bottom":{"position":"bottom","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#517cec"}}}}},"output_transitions":[],"pre_think_time":0,"post_think_time":0,"exit_action_list":[],"entry_action_list":[],"during_action_list":[],"normal_test_action_list":[{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩上限 == 后电机轴端扭矩上限","type":"action"},{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩下限 == 后电机轴端扭矩下限","type":"action"}],"dynamic_test_action_list":[],"ref_graph":null,"forward_propagation":false,"time_props":null},{"id":"3d878a73-2c55-11ef-b414-a9d76e88cb45","desc":"New State","type_name":"state","render_config":{"color":"#fab7cb","visible":true,"x":790,"y":580,"width":120,"height":90},"is_init_node":false,"is_finish_node":false,"input_transitions":["3d876363-2c55-11ef-b414-a9d76e88cb45"],"ports":{"items":[{"group":"top","id":"4a20cd10-2a3d-11ef-811a-1105cfa30ef0"}],"groups":{"top":{"position":"top","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"bottom":{"position":"bottom","args":{"strict":true},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#517cec"}}}}},"output_transitions":[],"pre_think_time":0,"post_think_time":0,"exit_action_list":[],"entry_action_list":[],"during_action_list":[],"normal_test_action_list":[{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩上限 == 后电机轴端扭矩上限","type":"action"},{"pre_think_time":0,"post_think_time":0,"express":"后电机轴端扭矩下限 == 后电机轴端扭矩下限","type":"action"}],"dynamic_test_action_list":[],"ref_graph":null,"forward_propagation":false,"time_props":null},{"id":"3d878a78-2c55-11ef-b414-a9d76e88cb45","desc":"New Condition","type_name":"condition","render_config":{"color":"#CDFFAE","visible":true,"x":605,"y":-30,"width":120,"height":80},"test_layer":{"data":[{"valueNameX":"驱动电机转速","valueNameY":"","valueType":"pick1d","table_id":"125f8534-2c52-11ef-8e75-c8cb9e4ad5d4","positive_data":[[0,365],[500,365],[1000,365],[1500,365],[2000,365],[2500,365],[3000,365],[3500,365],[4000,365],[4840,365],[5000,353],[5500,321],[6000,294],[6500,272],[7500,236],[8000,221],[9000,196],[10000,177],[11000,161],[12000,147],[13000,136]],"negative_data":[]},{"valueName":"后驱动电机最大驱动转矩","valueType":"assign","positive_data":"[-400,-100,-50,0,50,100,150,200,300,365,380]","negative_data":""},{"valueName":"后驱动电机最大制动转矩","valueType":"assign","positive_data":"[-400,-100,-50,0,50,100,150,200,300,365,380]","negative_data":""}],"is_order":true},"test_coverage":{"is_configured":false},"is_init_node":false,"is_finish_node":false,"input_transitions":["3d876366-2c55-11ef-b414-a9d76e88cb45"],"ports":{"items":[{"group":"top","id":"top1"},{"group":"condition","id":"yes","attrs":{"text":{"text":"yes"},"circle":{"r":6}}},{"group":"condition","id":"no","attrs":{"text":{"text":"no"},"circle":{"r":6}}}],"groups":{"top":{"position":"top","attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"condition":{"position":"bottom","label":{"position":"top"},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#517cec","strokeWidth":1,"fill":"#a7ee7b"}}}}},"output_transitions":["3d876368-2c55-11ef-b414-a9d76e88cb45","3d876367-2c55-11ef-b414-a9d76e88cb45"],"condition":"策略挡位信号!= 3 ","branch_yes":"3d876367-2c55-11ef-b414-a9d76e88cb45","branch_no":"3d876368-2c55-11ef-b414-a9d76e88cb45","time_tolerance":{"type":"percent","value":5}},{"id":"3d878a77-2c55-11ef-b414-a9d76e88cb45","desc":"驱动转矩计算R","type_name":"call","render_config":{"color":"#de7b51","visible":true,"x":20,"y":90,"width":120,"height":50},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"params_list":[{"label":"period","value":0},{"label":"step","value":0}],"in_list":[],"return_list":[],"script":"if fabs(后驱动电机最大驱动转矩) >365:\r\n  return -365\r\nelse:\r\n  return -fabs(后驱动电机最大驱动转矩)","enable_inverse":false,"inverse_script":"","tolerance_type":"percent","tolerance_value":0,"time_related_step":0,"time_related_duration":0},{"id":"3d878a71-2c55-11ef-b414-a9d76e88cb45","desc":"驱动转矩计算","type_name":"call","render_config":{"color":"#de7b51","visible":true,"x":180,"y":90,"width":120,"height":50},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"params_list":[{"label":"period","value":0},{"label":"step","value":0}],"in_list":[],"return_list":[],"script":"if fabs(后驱动电机最大驱动转矩) >365:\r\n  return 365\r\nelse:\r\n  return fabs(后驱动电机最大驱动转矩)","enable_inverse":false,"inverse_script":"","tolerance_type":"percent","tolerance_value":0,"time_related_step":0,"time_related_duration":0},{"id":"3d878a70-2c55-11ef-b414-a9d76e88cb45","desc":"回收转矩计算R","type_name":"call","render_config":{"color":"#de7b51","visible":true,"x":20,"y":210,"width":120,"height":50},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"params_list":[{"label":"period","value":0},{"label":"step","value":0}],"in_list":[],"return_list":[],"script":"if fabs(后驱动电机最大制动转矩) >365:\r\n  return 365\r\nelse:\r\n  return fabs(后驱动电机最大制动转矩)","enable_inverse":false,"inverse_script":"","tolerance_type":"percent","tolerance_value":0,"time_related_step":0,"time_related_duration":0},{"id":"3d87636a-2c55-11ef-b414-a9d76e88cb45","desc":"回收转矩计算","type_name":"call","render_config":{"color":"#de7b51","visible":true,"x":180,"y":210,"width":120,"height":50},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"params_list":[{"label":"period","value":0},{"label":"step","value":0}],"in_list":[],"return_list":[],"script":"if fabs(后驱动电机最大制动转矩) >365:\r\n  return -365\r\nelse:\r\n  return -fabs(后驱动电机最大制动转矩)","enable_inverse":false,"inverse_script":"","tolerance_type":"percent","tolerance_value":0,"time_related_step":0,"time_related_duration":0},{"id":"17c982e0-2c76-11ef-bad1-f318d45b1445","desc":"","type_name":"comment","render_config":{"color":"#e5bc5e","visible":true,"x":30,"y":-40,"width":120,"height":100},"is_init_node":false,"is_finish_node":false,"input_transitions":[],"ports":{"items":[]},"output_transitions":[],"comment":"轮端：\n       后电机轴端扭矩上/下限计算\n       258功能中使用"},{"id":"fcaa8d10-2d1a-11ef-b7b9-b137f0a20b71","desc":"New Condition","type_name":"condition","render_config":{"color":"#CDFFAE","visible":true,"x":390,"y":400,"width":120,"height":80},"test_layer":{"data":[{"valueNameX":"驱动电机转速","valueNameY":"","valueType":"pick1d","table_id":"125f8534-2c52-11ef-8e75-c8cb9e4ad5d4","positive_data":[[0,365],[500,365],[1000,365],[1500,365],[2000,365],[2500,365],[3000,365],[3500,365],[4000,365],[4840,365],[5000,353],[5500,321],[6000,294],[6500,272],[7500,236],[8000,221],[9000,196],[10000,177],[11000,161],[12000,147],[13000,136]],"negative_data":[]},{"valueName":"后驱动电机最大驱动转矩","valueType":"assign","positive_data":"[-400,-100,-50,0,50,100,150,200,300,365,380]","negative_data":""},{"valueName":"后驱动电机最大制动转矩","valueType":"assign","positive_data":"[-400,-100,-50,0,50,100,150,200,300,365,380]","negative_data":""}],"is_order":true},"test_coverage":{"is_configured":false},"is_init_node":false,"is_finish_node":false,"input_transitions":["3d876360-2c55-11ef-b414-a9d76e88cb45"],"ports":{"items":[],"groups":{"top":{"position":"top","attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"condition":{"position":"bottom","label":{"position":"top"},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#517cec","strokeWidth":1,"fill":"#a7ee7b"}}}}},"output_transitions":["3d876361-2c55-11ef-b414-a9d76e88cb45","3d876362-2c55-11ef-b414-a9d76e88cb45"],"condition":"策略挡位信号== 3 ","branch_yes":"3d876361-2c55-11ef-b414-a9d76e88cb45","branch_no":"3d876362-2c55-11ef-b414-a9d76e88cb45","time_tolerance":{"type":"percent","value":5}},{"id":"fef603b0-2d1a-11ef-b7b9-b137f0a20b71","desc":"New Condition","type_name":"condition","render_config":{"color":"#CDFFAE","visible":true,"x":760,"y":390,"width":120,"height":80},"test_layer":{"data":[{"valueNameX":"驱动电机转速","valueNameY":"","valueType":"pick1d","table_id":"125f8534-2c52-11ef-8e75-c8cb9e4ad5d4","positive_data":[[0,365],[500,365],[1000,365],[1500,365],[2000,365],[2500,365],[3000,365],[3500,365],[4000,365],[4840,365],[5000,353],[5500,321],[6000,294],[6500,272],[7500,236],[8000,221],[9000,196],[10000,177],[11000,161],[12000,147],[13000,136]],"negative_data":[]},{"valueName":"后驱动电机最大驱动转矩","valueType":"assign","positive_data":"[-400,-100,-50,0,50,100,150,200,300,365,380]","negative_data":""},{"valueName":"后驱动电机最大制动转矩","valueType":"assign","positive_data":"[-400,-100,-50,0,50,100,150,200,300,365,380]","negative_data":""}],"is_order":true},"test_coverage":{"is_configured":false},"is_init_node":false,"is_finish_node":false,"input_transitions":["3d876364-2c55-11ef-b414-a9d76e88cb45"],"ports":{"items":[],"groups":{"top":{"position":"top","attrs":{"circle":{"r":3,"magnet":true,"stroke":"#a7ee7b","strokeWidth":1,"fill":"#de7a7a"}}},"condition":{"position":"bottom","label":{"position":"top"},"attrs":{"circle":{"r":3,"magnet":true,"stroke":"#517cec","strokeWidth":1,"fill":"#a7ee7b"}}}}},"output_transitions":["3d876365-2c55-11ef-b414-a9d76e88cb45","3d876363-2c55-11ef-b414-a9d76e88cb45"],"condition":"策略挡位信号== 4 ","branch_yes":"3d876365-2c55-11ef-b414-a9d76e88cb45","branch_no":"3d876363-2c55-11ef-b414-a9d76e88cb45","time_tolerance":{"type":"percent","value":5}}],"transitions":[{"id":"3d876360-2c55-11ef-b414-a9d76e88cb45","desc":"","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"","action_list":[],"loop_times":1,"event_list":[],"source_node":"3d878a76-2c55-11ef-b414-a9d76e88cb45","target_node":"fcaa8d10-2d1a-11ef-b7b9-b137f0a20b71","source_port_name":"ed895720-2a3c-11ef-b441-9543add878bf","target_port_name":"top1","vertices":[],"time_tolerance":{"type":"percent","value":5}},{"id":"3d876361-2c55-11ef-b414-a9d76e88cb45","desc":"","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"","action_list":[],"loop_times":1,"event_list":[],"source_node":"fcaa8d10-2d1a-11ef-b7b9-b137f0a20b71","target_node":"3d878a79-2c55-11ef-b414-a9d76e88cb45","source_port_name":"yes","target_port_name":"f23ec8e0-2a3c-11ef-b441-9543add878bf","vertices":[],"time_tolerance":{"type":"percent","value":5}},{"id":"3d876362-2c55-11ef-b414-a9d76e88cb45","desc":"","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"","action_list":[],"loop_times":1,"event_list":[],"source_node":"fcaa8d10-2d1a-11ef-b7b9-b137f0a20b71","target_node":"3d878a75-2c55-11ef-b414-a9d76e88cb45","source_port_name":"no","target_port_name":"4a20cd10-2a3d-11ef-811a-1105cfa30ef0","vertices":[],"time_tolerance":{"type":"percent","value":5}},{"id":"3d876363-2c55-11ef-b414-a9d76e88cb45","desc":"","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"","action_list":[],"loop_times":1,"event_list":[],"source_node":"fef603b0-2d1a-11ef-b7b9-b137f0a20b71","target_node":"3d878a73-2c55-11ef-b414-a9d76e88cb45","source_port_name":"no","target_port_name":"4a20cd10-2a3d-11ef-811a-1105cfa30ef0","vertices":[],"time_tolerance":{"type":"percent","value":5}},{"id":"3d876364-2c55-11ef-b414-a9d76e88cb45","desc":"","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"","action_list":[],"loop_times":1,"event_list":[],"source_node":"3d878a79-2c55-11ef-b414-a9d76e88cb45","target_node":"fef603b0-2d1a-11ef-b7b9-b137f0a20b71","source_port_name":"934b4510-2a3d-11ef-811a-1105cfa30ef0","target_port_name":"top1","vertices":[],"time_tolerance":{"type":"percent","value":5}},{"id":"3d876365-2c55-11ef-b414-a9d76e88cb45","desc":"","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"","action_list":[],"loop_times":1,"event_list":[],"source_node":"fef603b0-2d1a-11ef-b7b9-b137f0a20b71","target_node":"3d878a76-2c55-11ef-b414-a9d76e88cb45","source_port_name":"yes","target_port_name":"a3c9ae90-2a3d-11ef-811a-1105cfa30ef0","vertices":[],"time_tolerance":{"type":"percent","value":5}},{"id":"3d876366-2c55-11ef-b414-a9d76e88cb45","desc":"第一次上电","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"","action_list":[],"loop_times":1,"event_list":[],"source_node":"3d876369-2c55-11ef-b414-a9d76e88cb45","target_node":"3d878a78-2c55-11ef-b414-a9d76e88cb45","source_port_name":"f13e2c50-2a3d-11ef-811a-1105cfa30ef0","target_port_name":"top1","vertices":[],"time_tolerance":{"type":"percent","value":5}},{"id":"3d876367-2c55-11ef-b414-a9d76e88cb45","desc":"","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"","action_list":[],"loop_times":1,"event_list":[],"source_node":"3d878a78-2c55-11ef-b414-a9d76e88cb45","target_node":"3d878a76-2c55-11ef-b414-a9d76e88cb45","source_port_name":"yes","target_port_name":"315014a0-2a40-11ef-811a-1105cfa30ef0","vertices":[{"x":590,"y":150}],"time_tolerance":{"type":"percent","value":5}},{"id":"3d876368-2c55-11ef-b414-a9d76e88cb45","desc":"","type_name":"transition","render_config":{"color":"#CDFFAE","visible":true,"x":0,"y":0,"width":0,"height":0},"test_layer":{"data":[],"is_order":true,"is_group":true},"test_coverage":{"is_configured":false},"condition":"","action_list":[],"loop_times":1,"event_list":[],"source_node":"3d878a78-2c55-11ef-b414-a9d76e88cb45","target_node":"3d878a79-2c55-11ef-b414-a9d76e88cb45","source_port_name":"no","target_port_name":"3d19cfb0-2a40-11ef-811a-1105cfa30ef0","vertices":[{"x":830,"y":140}],"time_tolerance":{"type":"percent","value":5}}],"graph_type":"request","breakpoints":[]}